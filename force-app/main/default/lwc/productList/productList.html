<template>
    <lightning-card title="Products">
        <div class="product-grid">
            <template for:each={products.data} for:item="product" >
                    <!-- Use unique key for each list item -->
                    <!-- Include the product item component -->
                    <c-product-list-item class="product-item-container"
                     key={product.Id}
                     product={product}
                     onproductselected={handleProductSelected}
                    ></c-product-list-item>
            </template>
        </div>
    </lightning-card>

    <!-- Pass the selected product's ID to the details component -->
    <c-product-details
        if:true={selectedProductId}
        product-id={selectedProductId}
    ></c-product-details>

</template>